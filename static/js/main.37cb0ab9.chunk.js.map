{"version":3,"sources":["components/LangFilters.js","components/SearchBar.js","components/SearchResult.js","components/ParsedLink.js","components/MarkdownParser.js","img/sun.png","img/moon.png","darkMode.js","App.js","reportWebVitals.js","index.js"],"names":["LangFilters","options","changeParameter","data","langCode","useState","languages","setLanguages","selected","setSelected","showFilters","setShow","handleChange","e","target","value","useEffect","queries","queryString","parse","document","location","search","lang","langArray","code","name","children","forEach","language","length","push","sort","a","b","map","type","className","onChange","checked","createOption","filterList","onClick","SearchBar","props","getElementById","defaultTerm","onSubmit","preventDefault","id","autoComplete","placeholder","SearchResult","href","url","rel","title","author","ParsedLink","sect","folder","setFolder","file","setFile","hrefSplit","split","MarkdownParser","markdown","setMarkdown","loading","setLoading","result","axios","get","console","log","fetchData","remarkRehypeOptions","allowDangerousHtml","rehypePlugins","rehypeSlug","rehypeRaw","components","startsWith","charAt","themes","dark","light","swapMode","theme","body","classList","add","setTimeout","getElementsByClassName","remove","ThemeContext","createContext","changeTheme","ThemeContextWrapper","setTheme","Provider","jsonToArray","json","arr","sections","i","section","includes","entries","entry","subsections","subsection","App","undefined","setData","dataArray","setDataArray","defaultSearch","searchTerm","searchParams","setSearchParams","searchResults","setSearchResults","useCookies","cookies","setCookie","subject","setQueries","error","setError","resultsList","param","lightMode","darkMode","fuse","Fuse","useExtendedSearch","findAllMatches","shouldSort","includeScore","includeMatches","threshold","keys","andQuery","orQuery","Object","key","$or","$and","slice","item","Consumer","willBeDarkMode","toLowerCase","alt","src","MoonImg","SunImg","style","width","height","display","marginLeft","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","CookiesProvider","StrictMode"],"mappings":"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","file":"static/js/main.37cb0ab9.chunk.js","sourcesContent":["import { React, useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\n\nfunction LangFilters({ changeParameter, data, langCode }) {\n  const [languages, setLanguages] = useState([]);\n  const [selected, setSelected] = useState(langCode);\n  const [showFilters, setShow] = useState(false);\n  let options = null;\n\n  const handleChange = (e) => {\n    changeParameter(\"lang.code\", e.target.value);\n    setSelected(e.target.value);\n  };\n\n  useEffect(() => {\n    let queries = queryString.parse(document.location.search);\n    if (queries.lang) {\n      if (queries.lang === \"langs\" || queries.lang === \"subjects\") {\n        changeParameter(\"lang.code\", \"en\");\n        setSelected(\"en\");\n      } else {\n        changeParameter(\"lang.code\", queries.lang);\n        setSelected(queries.lang);\n      }\n    } else {\n      changeParameter(\"lang.code\", \"\");\n      setSelected(\"\")\n    }\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(\n    // run whenever data changes\n    () => {\n      if (data) {\n        let langArray = [{ code: \"en\", name: \"English\" }];\n        data.children[0].children.forEach((document) => {\n          if (typeof document.language.name === \"string\" && document.language.name.length > 0) {\n            //make sure the language is valid and not blank\n            //console.log(\"LANGUAGE: \" + document.language.name)\n            if (document.language.code !== \"en\") {\n              // used to ensure only one English is listed\n              langArray.push(document.language);\n            }\n          }\n        });\n        langArray.sort((a, b) => a.name > b.name);\n        setLanguages(langArray);\n      }\n    },\n    [data]\n  );\n\n  const createOption = (language) => {\n    return (\n      <div>\n        <label>\n          <input\n            type=\"radio\"\n            className=\"lang\"\n            key={language.code}\n            value={language.code}\n            onChange={handleChange}\n            checked={language.code === selected}\n          />\n          {language.name}\n        </label>\n      </div>\n    );\n  };\n\n  options =\n    languages &&\n    languages.map((language) => {\n      return createOption(language);\n    });\n\n  let filterList = (\n    <form className=\"filters\">\n      <label>\n        <input\n          type=\"radio\"\n          key=\"all\"\n          className=\"sect-select\"\n          value=\"\"\n          onChange={handleChange}\n          checked={\"\" === selected}\n        />\n        All Languages\n      </label>\n      {options}\n    </form>\n  );\n\n  return (\n    <div className=\"langFilters\">\n      <div className=\"filterHeader\">\n        <h3>Filter by Language</h3>\n        <button onClick={() => setShow(!showFilters)}>{showFilters ? \"-\" : \"+\"}</button>\n      </div>\n      {showFilters ? filterList : \"\"}\n    </div>\n  );\n}\n\nexport default LangFilters;\n","import React, {useEffect} from \"react\";\n\nfunction SearchBar(props) {\n  useEffect(() => {\n    document.getElementById(\"searchBar\").value = props.defaultTerm\n  }, [props]);\n\n  const handleChange = (e) => {\n    props.changeParameter(\"searchTerm\", e.target.value);\n  };\n\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n      }}\n      name=\"searchBar\"\n      className=\"searchbar\"\n    >\n      <input\n        id=\"searchBar\"\n        autoComplete=\"off\"\n        type=\"text\"\n        name=\"searchTerm\"\n        placeholder={\"Search Book or Author\"}\n        className=\"searchterm\"\n        onChange={handleChange}\n      />\n    </form>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\n\nfunction SearchResult({ data }) {\n  return (\n    <li className=\"result\">\n        <a href={data.url} target=\"_blank\" rel=\"noreferrer\">\n          ({data.lang.code}) {data.title}{data.author ? ` by ${data.author}` : \"\"}\n        </a>\n    </li>\n  );\n}\n\nexport default SearchResult;\n","import React, { useState, useEffect } from \"react\";\n\nfunction ParsedLink({ children, sect, href, id }) {\n  const [folder, setFolder] = useState(null);\n  const [file, setFile] = useState(null);\n\n  useEffect(() => {\n    // Splits the original link into the folder and file names\n    // If there is only one entry then the folder is the root directory and the entry is the file\n    let hrefSplit = href.split(\"/\");\n\n    if (hrefSplit.length === 2) {\n      // Some docs reference back to the root directory which would give the folder \"..\"\n      // When that happens, skip setting the folder as it should stay null.\n      if (hrefSplit[0] !== \"..\") {\n        setFolder(hrefSplit[0]);\n      }\n      setFile(hrefSplit[1]);\n    } else {\n      // Only a file is given\n      setFile(hrefSplit[0]);\n      // When the current section is docs, all relative links stay in docs\n      if (sect === \"docs\") {\n        setFolder(sect);\n      } else {\n        setFolder(null);\n      }\n    }\n  }, [href, sect]);\n\n  if (folder && file) {\n    return <a id={id} href={`/free-programming-books-search/?&sect=${folder}&file=${file}`}>{children}</a>;\n  } else if (file) {\n    return <a id={id} href={`/free-programming-books-search/?file=${file}`}>{children}</a>;\n  } else { // Go to the homepage when there's a bad relative URL\n    return <a id={id} href={`/free-programming-books-search/`}>{children}</a>\n  }\n}\n\nexport default ParsedLink;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport ReactMarkdown from \"react-markdown\";\nimport rehypeSlug from \"rehype-slug\";\nimport rehypeRaw from \"rehype-raw\";\n\nimport ParsedLink from \"./ParsedLink\";\n\nfunction MarkdownParser({ file, sect }) {\n  let [markdown, setMarkdown] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        // console.log({sect: sect, file: file});\n        setLoading(true);\n        let result = null;\n        if (sect && file) {\n          // Both sect and file exist so construct the URL with both parameters\n          result = await axios.get(\n            `https://raw.githubusercontent.com/EbookFoundation/free-programming-books/main/${sect}/${file}`\n          );\n        } else if (!sect && file) {\n          // Occurs when getting a file from the root directory\n          result = await axios.get(\n            `https://raw.githubusercontent.com/EbookFoundation/free-programming-books/main/${file}`\n          );\n        } else {\n          // Default to getting the README\n          result = await axios.get(\n            `https://raw.githubusercontent.com/EbookFoundation/free-programming-books/main/README.md`\n          );\n        }\n\n        setMarkdown(result.data);\n      } catch (e) {\n        console.log(\"Couldn't get data. Please try again later\");\n      }\n      setLoading(false);\n    }\n    fetchData();\n  }, [file, sect]);\n\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n\n  if (!markdown) {\n    return <p>Error: Could not retrieve data.</p>;\n  }\n\n  return (\n    <section>\n      <ReactMarkdown\n        children={markdown}\n        remarkRehypeOptions={{ allowDangerousHtml: true }} // HTML is required for the all ids to be targetable\n        rehypePlugins={[rehypeSlug, rehypeRaw]}\n        components={{\n          // Replaces relative links in a markdown file with a parsed version of the link\n          // All other links are left untouched\n          a({ className, children, href, id}) {\n            if (href.startsWith(\"http\") || href.charAt(0) === \"#\") {\n              return (\n                <a className={className} href={href} id={id}>\n                  {children}\n                </a>\n              );\n            }\n            return <ParsedLink children={children} className={className} sect={sect} href={href} id={id}/>;\n          },\n        }}\n      />\n    </section>\n  );\n}\n\nexport default MarkdownParser;\n","export default __webpack_public_path__ + \"static/media/sun.4c5a4fb0.png\";","export default __webpack_public_path__ + \"static/media/moon.dd634065.png\";","import React, { useState, createContext } from \"react\";\n\n//https://levelup.gitconnected.com/dark-mode-in-react-533faaee3c6e\n\nexport const themes = {\n  dark: \"\",\n  light: \"dark-content\",\n};\n\nexport const swapMode = (theme) => {\n    switch (theme) {\n      case themes.light:\n        document.body.classList.add('dark-content');\n        setTimeout(() => {\n          document.getElementsByClassName('header')[0].classList.add('dark-content');\n        }, 0);\n        break;\n      case themes.dark:\n      default:\n        document.body.classList.remove('dark-content');\n        setTimeout(() => {\n          document.getElementsByClassName('header')[0].classList.remove('dark-content');\n        }, 0);\n        break;\n    }\n  }\n\nexport const ThemeContext = createContext({\n    theme: themes.dark,\n  changeTheme: () => {},\n});\n\nexport default function ThemeContextWrapper(props) {\n  const [theme, setTheme] = useState(props.theme);\n\n  function changeTheme(theme) {\n    setTheme(theme);\n  }\n // console.log(theme)\n  swapMode(theme)\n\n  return (\n    <ThemeContext.Provider value={{ theme: theme, changeTheme: changeTheme }}>\n      {props.children}\n    </ThemeContext.Provider>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Fuse from \"fuse.js\";\nimport { useCookies } from \"react-cookie\";\nimport queryString  from \"query-string\";\n\nimport LangFilters from \"./components/LangFilters\";\nimport SearchBar from \"./components/SearchBar\";\nimport SearchResult from \"./components/SearchResult\";\nimport MarkdownParser from \"./components/MarkdownParser\";\n\nimport SunImg from \"./img/sun.png\";\nimport MoonImg from \"./img/moon.png\";\nimport { ThemeContext, themes, swapMode } from \"./darkMode\";\n\nfunction jsonToArray(json) {\n  // list of all books\n  let arr = [];\n  // list of all topics (sections)\n  let sections = [];\n  // for each markdown document\n  for (let i = 0; i < json.children.length; i++) {\n    json.children[i].children.forEach((document) => {\n      // for each topic in the markdown\n      // these are typically h2 and h3 tags in the markdown\n      document.sections.forEach((section) => {\n        // Add section to master list if it's not there\n        if (!sections.includes(section.section)) sections.push(section.section);\n        // Add new entries that were under an h2 tag\n        section.entries.forEach((entry) => {\n          arr.push({\n            author: entry.author,\n            title: entry.title,\n            url: entry.url,\n            lang: document.language,\n            section: section.section,\n          });\n        });\n        // Add new entries that were under an h3 tag\n        section.subsections.forEach((subsection) => {\n          subsection.entries.forEach((entry) => {\n            arr.push({\n              author: entry.author,\n              title: entry.title,\n              url: entry.url,\n              lang: document.language,\n              section: section.section,\n              subsection: subsection.section,\n            });\n          });\n        });\n      });\n    });\n  }\n  return { arr: arr, sections: sections };\n}\n\nfunction App() {\n  // keeps the state of the json\n  const [data, setData] = useState(undefined); \n  // put all books into one array. uses more memory, but search is faster and less complex\n  const [dataArray, setDataArray] = useState([]);\n  // Keeps track if all resources are loaded\n  const [loading, setLoading] = useState(true);\n  // State keeping track of all search parameters\n  // use the changeParameter function to set, NOT setSearchParams\n  // changeParameter will retain the rest of the state\n  let defaultSearch = queryString.parse(document.location.search).search || \"\";\n  const [searchParams, setSearchParams] = useState({ searchTerm: defaultSearch, \"lang.code\": \"\" });\n  // array of all search results\n  const [searchResults, setSearchResults] = useState([]);\n  const [cookies, setCookie, ] = useCookies([\"lightMode\"]);\n  const [queries, setQueries] = useState({ lang: \"\", subject: \"\" });\n\n  // eslint-disable-next-line\n  const [error, setError] = useState(\"\");\n\n  let resultsList = null; // the html string containing the search results\n\n  // Used to change the search parameters state\n  // Heavily used in child components to set the state \n  const changeParameter = (param, value) => {\n    setSearchParams({ ...searchParams, [param]: value });\n  };\n\n  // fetches data the first time the page renders\n  useEffect(() => {  \n    swapMode(cookies.lightMode ? themes.lightMode : themes.darkMode);\n    async function fetchData() {\n      try {\n        setQueries(queryString.parse(document.location.search));\n        if (queries.lang) {\n          if (queries.lang === \"langs\" || queries.lang === \"subjects\") {\n            changeParameter(\"lang.code\", \"en\");\n          } else {\n            changeParameter(\"lang.code\", queries.lang);\n          }\n        }\n        // setLoading(true);\n        let result = await axios.get(\n          \"https://raw.githubusercontent.com/EbookFoundation/free-programming-books-search/main/fpb.json\"\n        );\n        setData(result.data);\n        // eslint-disable-next-line\n        let { arr, sections } = jsonToArray(result.data);\n        setDataArray(arr);\n      } catch (e) {\n        setError(\"Couldn't get data. Please try again later\")\n      }\n      setLoading(false);\n    }\n    fetchData();\n  }, [cookies, queries.lang]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  // fires when searchTerm changes\n  // Finds most relevant title or author\n  // THIS IS THE MAIN SEARCH FUNCTION\n  useEffect(() => {\n    if (dataArray) {\n      const fuseOptions = {\n        useExtendedSearch: true, // see fuse.js documentation\n        findAllMatches: true, //continue searching after first match\n        shouldSort: true, // sort by proximity score\n        includeScore: true, // includes score in results\n        includeMatches: true,\n        threshold: 0.2, // threshold for fuzzy-search,\n        keys: [\"author\", \"title\", \"lang.code\", \"section\"],\n      };\n\n      // create new fuse given the array of books and the fuse options from above\n      let fuse = new Fuse(dataArray, fuseOptions);\n      let andQuery = []; // for filters that MUST be matched, like language\n      let orQuery = []; // filters where any may be matched, like author or title\n\n      // for each search param\n      for (const [key, value] of Object.entries(searchParams)) {\n        if (value === null || value === \"\") continue;\n        if (key === \"lang.code\" || key === \"section\") {\n          // the '^' means it must be an exact match at the beginning\n          // this is because lang.code and section are strict filters\n          andQuery.push({ [key]: `^${value}` });\n        }\n        if (key === \"searchTerm\") {\n          orQuery.push({ author: value });\n          orQuery.push({ title: value });\n        }\n      }\n      // Nest the 'or' query inside the 'and' query\n      // Necessary step, a quirk with fuse.js\n      andQuery.push({ $or: orQuery });\n      // Perform the search\n      let result = fuse.search({\n        $and: andQuery,\n      });\n      // filter to top results\n      result = result.slice(0, 40);\n      // console.log(result)\n\n      // Goes through the list of results\n      // let relevantLists = [];\n      // result.forEach((entry) => {\n      //   // Checks if a new entry has already been made with the given programming language and human language.\n      //   let obj = relevantLists.find(\n      //     (o) => o.item.section === entry.item.section && o.item.lang.code === entry.item.lang.code\n      //   );\n      //   if (!obj && entry.item.lang.code) {\n      //     let langCode = entry.item.lang.code;\n      //     let section = entry.item.subsection ? entry.item.subsection : entry.item.section;\n      //     // English is split into the subjects and langs file. The parser flags which type of entry it is to use here\n      //     if (langCode === \"en\") {\n      //       if (entry.item.lang.isSubject) {\n      //         langCode = \"subjects\";\n      //       } else {\n      //         langCode = \"langs\";\n      //       }\n      //     }\n\n      //     // Consider moving function out of here\n      //     let id = section;\n\n      //     // Some ids are in HTML tags, so this will extract that id to form proper links\n      //     if (id.includes(\"<a\")) {\n      //       let x = id.match(/\"(.*?)\"/)[0];\n      //       id = x ? x.replaceAll(/\\\"/g, \"\") : \"FAIL\";\n      //       section = id;\n      //     }\n\n      //     // List of id properties fixed with this line:\n      //     // 1. Must be all lowercase\n      //     // 2. Spaces are hyphens\n      //     // 3. Parentheses, ampersands, and slashes aren't allowed at all\n      //     id = id\n      //       .toLowerCase()\n      //       .replaceAll(\" \", \"-\")\n      //       .replaceAll(/\\(|\\)|\\&|\\/|\\./g, \"\");\n\n      //     // Creates a listing for the broader list of entries\n      //     let listing = {\n      //       item: {\n      //         author: \"\",\n      //         lang: entry.item.lang,\n      //         section: entry.item.section,\n      //         title: `List of all ${section} books in ${entry.item.lang.name}`,\n      //         url: `/free-programming-books-search?sect=books&lang=${langCode}&file=free-programming-books-${langCode}#${section}`,\n      //         samePage: true,\n      //       },\n      //     };\n\n      //     relevantLists.push(listing);\n      //   }\n      // });\n      // // Keep only the first 5 as more than that became cumbersome with broad searches\n      // relevantLists = relevantLists.slice(0, 5);\n      // result = relevantLists.concat(result);\n      setSearchResults(result);\n      // console.log(result);\n    }\n  }, [searchParams, dataArray]);\n\n  // if (loading) {\n  //   // if still fetching resource\n  //   return <h1>Loading...</h1>;\n  // }\n  if (error) {\n    return <h1>Error: {error}</h1>;\n  }\n  if (searchParams.searchTerm && searchResults.length !== 0) {\n    resultsList =\n      searchResults &&\n      searchResults.map((entry) => {\n        return <SearchResult data={entry.item} />;\n      });\n  }\n\n  return (\n    <div className=\"wrapper\">\n      <ThemeContext.Consumer>\n        {({ changeTheme }) => {\n          let willBeDarkMode = cookies.lightMode && cookies.lightMode.toLowerCase() !== \"true\"; //whether or not we are currently light mode and will become dark mode\n          changeTheme(willBeDarkMode ? themes.light : themes.dark);\n          return (\n            <img\n              alt=\"Toggle light/dark mode\"\n              src={willBeDarkMode ? MoonImg : SunImg}\n              onClick={() => {\n                setCookie(\"lightMode\", willBeDarkMode);\n                changeTheme(willBeDarkMode ? themes.light : themes.dark);\n              }}\n              style={{ width: \"20px\", height: \"20px\", display: \"block\", marginLeft: \"auto\" }}\n            />\n          );\n        }}\n      </ThemeContext.Consumer>\n      <header className=\"header\">\n        <h1>\n          <a href=\"/free-programming-books-search/\">free-programming-books</a>\n        </h1>\n\n        <p>\n          <img\n            className=\"emoji\"\n            title=\":books:\"\n            alt=\":books:\"\n            src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png\"\n            height=\"20\"\n            width=\"20\"\n          />{\" \"}\n          Freely available programming books\n        </p>\n\n        <p className=\"view\">\n          <a href=\"https://github.com/EbookFoundation/free-programming-books\" target=\"_blank\" rel=\"noreferrer\">\n            View the Project on GitHub <small>EbookFoundation/free-programming-books</small>\n          </a>\n        </p>\n        <p>\n          Does a link not work?\n          <br />\n          <a href=\"https://github.com/EbookFoundation/free-programming-books/issues/\" target=\"_blank\" rel=\"noreferrer\">\n            Report an error on GitHub\n          </a>\n        </p>\n\n        <div>\n          {loading ? (\n            <p />\n          ) : (\n            <div>\n              <SearchBar changeParameter={changeParameter} defaultTerm={searchParams.searchTerm} />{\" \"}\n              <LangFilters changeParameter={changeParameter} data={data} langCode={searchParams[\"lang.code\"]} />{\" \"}\n            </div>\n          )}\n        </div>\n      </header>\n\n      <section className=\"search-results\">\n        {loading ? (\n          <p>Loading</p>\n        ) : resultsList ? (\n          <div>\n            <br />\n            <h2>Search Results</h2>\n            <ul>{resultsList}</ul>\n          </div>\n        ) : searchParams.searchTerm ? (\n          <div>\n            <br />\n            <h2>No results found.</h2>\n          </div>\n        ) : \n          <MarkdownParser file={queries.file} sect={queries.sect} />\n        }\n      </section>\n      <footer>\n        <p>\n          This project is maintained by{\" \"}\n          <a href=\"https://github.com/EbookFoundation\" target=\"_blank\" rel=\"noreferrer\">\n            EbookFoundation\n          </a>\n        </p>\n        <p>\n          <small>\n            Hosted on GitHub Pages — Theme by{\" \"}\n            <a href=\"https://github.com/orderedlist\" target=\"_blank\" rel=\"noreferrer\">\n              orderedlist\n            </a>\n          </small>\n        </p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport ThemeContextWrapper from './darkMode';\nimport reportWebVitals from './reportWebVitals';\nimport { CookiesProvider } from 'react-cookie';\n\nReactDOM.render(\n<CookiesProvider>\n\t<ThemeContextWrapper>\n\t  <React.StrictMode>\n\t\t<App />\n\t  </React.StrictMode>\n\t</ThemeContextWrapper>\n</CookiesProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}